const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CartProduct-D9viZbLT.js","./index-Dm6GZMbr.js","./index-lTdSCtf0.css","./LineWhoAppear-CmGQYjZO.js","./LineWhoAppear-S7-MXh3A.css","./CartProduct-B_gDh8Ob.css","./DiscountInput-Cvh_aMiN.js","./DiscountInput-CvaGoMwb.css"])))=>i.map(i=>d[i]);
import{r as c,_ as p,d as P,j as t,m as g,e as N,i as m,a as y}from"./index-Dm6GZMbr.js";import{A as b}from"./AppButton-C03c1uT1.js";const I=c.lazy(()=>p(()=>import("./CartProduct-D9viZbLT.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),O=c.lazy(()=>p(()=>import("./DiscountInput-Cvh_aMiN.js"),__vite__mapDeps([6,1,2,7]),import.meta.url)),T=c.forwardRef((o,i)=>{const{productsInCart:a,productsHandler:s,productsCount:e,handleDiscount:n,discount:h,TotalPriceComponent:x,setCartSort:_,dispatchStates:d}=o;c.useEffect(()=>{d({state:"cartVisible",value:!0})},[d]);function j(r){const u=N(r);m(r)||!y(r.target,'[data-action="cart"]')||u!==0&&!u||s({type:"cart",id:u})}function l(r){m(r)||d({state:"modalVisible",value:!0})}const v={productsCount:e,handleRemoveProduct:j,productsInCart:a,infoProps:{TotalPriceComponent:x,discount:h,handleDiscount:n,confirmOrderProps:{className:"confirm-order",onPointerUp:l,onPointerCancel:l,onKeyDown:l}}},f={hidden:{opacity:0,x:P.any()==="desktop"?"250%":"0%"},show:{opacity:1,x:"0%"}};function C(r){_(Number(r.target.value))}return t.jsxs(g.div,{initial:"hidden",animate:"show",variants:f,className:"cart",ref:i,style:{minHeight:`${45*a.length+350}px`},children:[t.jsxs("div",{className:"cart-top-info",children:[t.jsxs("h2",{className:"cart__title",children:["Your Cart ",t.jsxs("span",{children:["(",e,")"]})]}),e>0&&t.jsx("div",{className:"sort-container pos-relative",children:t.jsxs("select",{className:"sort-container__select",name:"sort",id:"sort",onChange:C,defaultValue:"order","aria-label":"Sort by",children:[t.jsx("option",{value:"0",children:"Order"}),t.jsx("option",{value:"1",children:"Cheaper"}),t.jsx("option",{value:"2",children:"Expensive"})]})})]}),t.jsx(w,{...v})]})});function w(o){const{productsCount:i,infoProps:a,handleRemoveProduct:s,productsInCart:e}=o;return t.jsx("div",{className:"cart-content","aria-live":"polite","aria-atomic":"true",children:i>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"cart__products",onPointerUp:s,onKeyDown:s,children:e.map(n=>t.jsx(I,{data:n},n.id))}),t.jsx(c.Suspense,{children:t.jsx(E,{...a})})]}):t.jsxs("div",{className:"cart__no-product",children:[t.jsx("img",{className:"no-product__image",src:"./assets/images/illustration-empty-cart.svg",alt:"","aria-hidden":"true",width:"96",height:"96"}),t.jsx("p",{className:"no-product__text",children:"Your added items will appear here"})]})})}function E(o){const{discount:i,handleDiscount:a,confirmOrderProps:s,TotalPriceComponent:e}=o,n={message:"Get -20% discount!",validCode:"FrontendMentor",setValid:a,isValid:i};return t.jsxs("div",{className:"cart__info",children:[t.jsxs("div",{className:"cart__info__total",children:[t.jsx("div",{children:"Order Total"}),t.jsx(e,{})]}),t.jsx("div",{className:"cart__info__carbon-neutral",children:t.jsxs("p",{className:"carbon-neutral__text",children:[t.jsx("img",{src:"./assets/images/icon-carbon-neutral.svg",alt:"","aria-hidden":"true",width:"20",height:"20"}),"This is a ",t.jsx("b",{className:"carbon-neutral",children:"carbon-neutral"})," delivery"]})}),t.jsx(b,{props:s,render:"Confirm Order"}),t.jsx(O,{...n})]})}export{T as default};
