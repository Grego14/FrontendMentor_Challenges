const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CartProduct-SZBnJ1Ei.js","./index-BfsSDj0Q.js","./index-BcwuIpui.css","./index-DlbXDiDn.js","./CartProduct-BpfW4H-x.css","./DiscountInput-ux9u262H.js","./DiscountInput-CoZanhCa.css"])))=>i.map(i=>d[i]);
import{r as n,_ as h,j as t,B as v,e as C,i as m,m as g}from"./index-BfsSDj0Q.js";import{T as N}from"./TotalPrice-Df7gg3QJ.js";const O=n.lazy(()=>h(()=>import("./CartProduct-SZBnJ1Ei.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),b=n.lazy(()=>h(()=>import("./DiscountInput-ux9u262H.js"),__vite__mapDeps([5,1,2,6]),import.meta.url)),R=n.forwardRef((e,s)=>{const{products:r,removeProduct:o,confirmOrder:c,setVisible:i,productsFetched:d,totalPrice:x,productsCount:p,setDiscount:_,discount:f}=e;n.useEffect(()=>{i(d)},[d,i]);function j(a){const u=C(a);m(a)||!g(a.target,'[data-action="cart"]')||u!==0&&!u||o({type:"cart",id:u})}function l(a){m(a)||c()}const P={productsCount:p,infoProps:{totalPrice:x,discount:f,setDiscount:_,confirmOrderProps:{className:"confirm-order",onPointerUp:l,onPointerCancel:l,onKeyDown:l}},productsProps:{handleRemoveProduct:j,products:r}};return t.jsxs("div",{className:"cart",ref:s,style:{minHeight:`${45*r.length+350}px`},children:[t.jsxs("h2",{className:"cart__title",children:["Your Cart ",t.jsxs("span",{children:["(",d&&p,")"]})]}),t.jsx(y,{...P})]})});function y(e){const{productsCount:s,infoProps:r,productsProps:o}=e;return t.jsx("div",{className:"cart-content","aria-live":"polite","aria-atomic":"true",children:s>0?t.jsxs(n.Suspense,{children:[t.jsx(O,{...o}),t.jsx(E,{...r})]}):t.jsx(I,{productsCount:s})})}function E(e){const{totalPrice:s,discount:r,setDiscount:o,confirmOrderProps:c}=e,i={message:"Get -20% discount!",validCode:"FrontendMentor",setValid:o,isValid:r};return t.jsxs("div",{className:"cart__info",children:[t.jsxs("div",{className:"cart__info__total",children:[t.jsx("div",{children:"Order Total"}),t.jsx(N,{discount:r,price:s,amount:20})]}),t.jsxs("p",{className:"cart__info__carbon-neutral",children:[t.jsx("img",{src:"./assets/images/icon-carbon-neutral.svg",alt:"","aria-hidden":"true",width:"20",height:"20"}),"This is a ",t.jsx("b",{className:"carbon-neutral",children:"carbon-neutral"})," delivery"]}),t.jsx(v,{props:c,buttonClass:".confirm-order",text:"Confirm Order"}),r?t.jsx("div",{className:"discount-text",children:"-20% discount applied!"}):t.jsx(b,{...i})]})}function I(){return t.jsxs("div",{className:"cart__no-product",children:[t.jsx("img",{className:"no-product__image",src:"./assets/images/illustration-empty-cart.svg",alt:"","aria-hidden":"true",width:"96",height:"96"}),t.jsx("p",{children:"Your added items will appear here"})]})}export{R as default};
