import{r as c,d as O,j as e,m as _}from"./index-CJ-a4D2k.js";function R(s){const{productsCount:u,productsFetched:n,TotalPriceComponent:h,cartRef:o}=s,t=c.useRef(null),[f,d]=c.useState(!1),[m,v]=c.useState(!1),p={root:null,rootMargin:"0px",threshold:[.2,.4]},i=new IntersectionObserver(x,p);function x(b,w){for(const l of b){const a=w.thresholds,r=l.intersectionRatio;if(r<=0||!l.isIntersecting)return;r>=a[0]&&r<a[1]&&(t.current.style.bottom="0",t.current.style.top="unset"),r>=a[1]&&r>a[0]&&(t.current.style.bottom="unset",t.current.style.top="0"),d(!0)}}c.useEffect(()=>(O.any()==="mobile"&&o.current&&i.observe(o.current),()=>{i.disconnect(o.current)}),[o.current,i.observe,i.disconnect]);const j={productsCount:u,TotalPriceComponent:h,visible:m},y={hidden:{opacity:0,y:"150%"},show:{opacity:1,y:"0%",transitionEnd(){v(!0)}},move:{opacity:[0,1],transitionEnd(){setTimeout(()=>{d(!1)},50)},transition:{delay:.2,duration:.5,ease:"easeInOut"}}};return e.jsx(_.div,{className:"user-data",ref:t,initial:"hidden",animate:["show",f?"move":""],variants:y,children:e.jsx("div",{className:`user-data__container${n?" user-data__container--show":""}`,children:n&&e.jsxs(e.Fragment,{children:[e.jsx(g,{...j}),s.children]})})})}function g({visible:s,productsCount:u,TotalPriceComponent:n}){return e.jsxs("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:`user-order${s?" user-order--show":""}`,children:[e.jsxs("div",{children:["Products:"," ",e.jsx("span",{className:"user-order__products-count",children:u})]}),e.jsxs("div",{children:["Total Price: ",e.jsx(n,{})]})]})}export{R as default};
