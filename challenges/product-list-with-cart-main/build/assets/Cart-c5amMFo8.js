const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CartProduct-DpzY9ZtS.js","./index-CJ-a4D2k.js","./index-3ZGeSpOk.css","./LineWhoAppear-VAiPfQIG.js","./LineWhoAppear-B0DhINXU.css","./CartProduct-BLKcECQd.css","./DiscountInput-B7dQGWTV.js","./DiscountInput-CoZanhCa.css"])))=>i.map(i=>d[i]);
import{r as o,_ as m,d as N,j as t,m as y,B as O,e as b,i as p,a as E}from"./index-CJ-a4D2k.js";const I=o.lazy(()=>m(()=>import("./CartProduct-DpzY9ZtS.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),w=o.lazy(()=>m(()=>import("./DiscountInput-B7dQGWTV.js"),__vite__mapDeps([6,1,2,7]),import.meta.url)),S=o.forwardRef((s,i)=>{const{productsInCart:r,productsHandler:a,confirmOrder:c,totalPrice:d,productsCount:n,handleDiscount:h,discount:x,setCartVisible:_,TotalPriceComponent:f,setCartSort:j}=s;o.useEffect(()=>{_(!0)},[]);function v(e){const u=b(e);p(e)||!E(e.target,'[data-action="cart"]')||u!==0&&!u||a({type:"cart",id:u})}function l(e){p(e)||c()}const C={productsCount:n,infoProps:{totalPrice:d,TotalPriceComponent:f,discount:x,handleDiscount:h,confirmOrderProps:{className:"confirm-order",onPointerUp:l,onPointerCancel:l,onKeyDown:l}},productsProps:{handleRemoveProduct:v,productsInCart:r}},P={hidden:{opacity:1,x:N.any()==="desktop"?"250%":"0%"},show:{opacity:1,x:"0%",transition:{duration:.4}}};function g(e){j(e.target.value)}return t.jsxs(y.div,{initial:"hidden",animate:"show",variants:P,className:"cart",ref:i,style:{minHeight:`${45*r.length+350}px`},children:[t.jsxs("div",{className:"cart-top-info",children:[t.jsxs("h2",{className:"cart__title",children:["Your Cart ",t.jsxs("span",{children:["(",n,")"]})]}),n>0&&t.jsx("div",{className:"cart__sort-container",children:t.jsxs("select",{className:"sort-container__select",name:"sort-button",id:"sort-button",onChange:g,defaultValue:"order",children:[t.jsx("option",{value:"order",children:"Order"}),t.jsx("option",{value:"cheaper",children:"Cheaper"}),t.jsx("option",{value:"expensive",children:"Expensive"})]})})]}),t.jsx(V,{...C})]})});function V(s){const{productsCount:i,infoProps:r,productsProps:a}=s;return t.jsx("div",{className:"cart-content","aria-live":"polite","aria-atomic":"true",children:i>0?t.jsxs(o.Suspense,{children:[t.jsx(I,{...a}),t.jsx(D,{...r})]}):t.jsx(T,{})})}function D(s){const{totalPrice:i,discount:r,handleDiscount:a,confirmOrderProps:c,TotalPriceComponent:d}=s,n={message:"Get -20% discount!",validCode:"FrontendMentor",setValid:a,isValid:r};return t.jsxs("div",{className:"cart__info",children:[t.jsxs("div",{className:"cart__info__total",children:[t.jsx("div",{children:"Order Total"}),t.jsx(d,{})]}),t.jsxs("p",{className:"cart__info__carbon-neutral",children:[t.jsx("img",{src:"./assets/images/icon-carbon-neutral.svg",alt:"","aria-hidden":"true",width:"20",height:"20"}),"This is a ",t.jsx("b",{className:"carbon-neutral",children:"carbon-neutral"})," delivery"]}),t.jsx(O,{props:c,buttonClass:".confirm-order",text:"Confirm Order"}),r?t.jsx("div",{className:"discount-text",children:"-20% discount applied!"}):t.jsx(w,{...n})]})}function T(){return t.jsxs("div",{className:"cart__no-product",children:[t.jsx("img",{className:"no-product__image",src:"./assets/images/illustration-empty-cart.svg",alt:"","aria-hidden":"true",width:"96",height:"96"}),t.jsx("p",{className:"no-product__text",children:"Your added items will appear here"})]})}export{S as default};
